---
layout: post
title: "XR to VESC: A Conversion Guide"
author: TK Garrett
category: [DIY, Guides]
tags: [vesc, xr, diy, guide]
image: https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/bf3abd46-57e1-463e-97ed-2e649c841f11/header-image.jpg?format=2500w
description: Open-source is quickly moving from the future of onewheeling and into the present. Pro riders are beginning to adopt the <mark>VESC</mark> platform, which continues to evolve at a rapid pace. This year, we will see multiple open class races that will have no restrictions placed on the manufacturer of the boards that are ridden. The configurabilty, customization, and raw power are huge draw towards VESC, but because of it’s open-source and DIY nature, it remains inaccessible to many. There is currently a need for more clear documentation, so I’ve written this as a start-to-finish guide on how to get up and running on your own VESC based onewheel. This will include photos or screenshots for each step, as well as wiring diagrams. I plan on updating this guide over time, but that may prove impossible or futile as VESC evolves.
---

- [Introduction](#introduction)
  - [Project Goals](#project-goals)
  - [Standing on the Shoulders of Giants](#standing-on-the-shoulders-of-giants)
  - [Disclaimer \& Warnings](#disclaimer--warnings)
    - [A Warning About the BMS](#a-warning-about-the-bms)
    - [So, why re-use the BMS?](#so-why-re-use-the-bms)
    - [Mitigations and Accepted Risk](#mitigations-and-accepted-risk)
- [Prerequisites](#prerequisites)
  - [Knowledge](#knowledge)
  - [Hardware](#hardware)
  - [Smart Phone and Computer](#smart-phone-and-computer)
  - [Tools](#tools)
  - [Cost](#cost)
- [Hardware Setup](#hardware-setup)
  - [Wiring Diagrams](#wiring-diagrams)
  - [Installation](#installation)
  - [References](#references)
- [Software Setup](#software-setup)
  - [Download and Install VESC Tool](#download-and-install-vesc-tool)
  - [Connect to Your VESC from Mobile](#connect-to-your-vesc-from-mobile)
  - [Connect to Your VESC from Desktop](#connect-to-your-vesc-from-desktop)
  - [Update the Firmware](#update-the-firmware)
  - [Calibrate the Motor](#calibrate-the-motor)
  - [Motor Configuration](#motor-configuration)
  - [IMU Configuration](#imu-configuration)
  - [Install the Float Package](#install-the-float-package)
  - [References](#references-1)
- [Glossary](#glossary)

> Any time you see a <mark>highlighted</mark> term, it can be found in the [glossary](#glossary) at the end of this guide.
> {: .prompt-info }

## Introduction

Open-source is quickly moving from the future of onewheeling and into the present. Pro riders are beginning to adopt the <mark>VESC</mark> platform, which continues to evolve at a rapid pace. This year, we will see multiple open class races that will have no restrictions placed on the manufacturer of the boards that are ridden. The configurabilty, customization, and raw power are huge draw towards VESC, but because of it’s open-source and DIY nature, it remains inaccessible to many. There is currently a need for more clear documentation, so I’ve written this as a start-to-finish guide on how to get up and running on your own VESC based onewheel. This will include photos or screenshots for each step, as well as wiring diagrams. I plan on updating this guide over time, but that may prove impossible or futile as VESC evolves.

If you think I should’ve done something differently or you have a suggestion, keep it to yourself.

Just kidding! Shoot me an email with any questions or suggestions: tk@spinningmag.net

Or find me on Instragram: @tkgarrett

### Project Goals

The aim of this guide is to convert a Onewheel+ XR to use an open-sourced VESC based controller mounted in a 3D printed controller box. All other Future Motion components will be re-used, including the stock <mark>BMS</mark>, battery, and <mark>wiring harness</mark>. If at any time after the conversion you want to switch back, it will be as simple as reinstalling and connecting the old Future Motion controller module. This guide will also cover the initial VESC software setup, configuration, and some common troubleshooting steps. By the end of this project, you’ll have not only a working board, but the knowledge to continue exploring the world of DIY PEVs and electronics. If all of your ducks are in a row, you can easily complete this in a weekend. After doing a few myself, XR to VESC conversions only take me a few hours.

### Standing on the Shoulders of Giants

When I built my first board, I didn’t know very much at all about electronics, battery safety, or <mark>PID tuning</mark>. Where relevant, I’ll include links to other content creators that are way smarter than me. But, to say thanks, here is a short list of VESC onewheel titans that should definitely be at the top of this guide:

- [Mitch Lustig](https://www.instagram.com/nurxg/) - Creator of the VESC balance app, without which none of this would have been possible.
- [Surfdado](https://www.youtube.com/channel/UClhp0J195HBXm6p6KN8nE4Q) - Developer of Adaptive Terrain Response (ATR), the Float Control app, and many other balance app refinements.
- [Nico Aleman](https://www.youtube.com/@nicoaleman) - Developer of the VESC Float package, which is heavily based on surfdado’s work.
- The communities on [pev.dev](https://pev.dev/), [Discord](https://discord.gg/pdqXQy9TPN), and [Facebook](https://www.facebook.com/groups/vescbuilders) that patiently answer all of our dumb questions.

### Disclaimer & Warnings

<mark class='yellow'>It should go without saying, but riding a one-wheeled electronic balance board is dangerous. And riding a DIY, self-built onewheel? Even more so.</mark> If you miswire something, you could start a fire or fry your hardware. If you misconfigure something on your board, it could result in a crash involving cuts, scrapes, bruises, broken bones, or possibly even death. The procedures outlined in this guide aren’t difficult, but they require patience and attention to detail.

#### A Warning About the BMS

This particular hardware configuration re-uses the Future Motion BMS. The BMS has the ability to cut power to the board to protect the battery and in certain situations, this could happen without warning. These situations are mostly caused by hardware failure or austere conditions, such as:

- A bad cell in the battery
- Extreme cold weather
- A damaged wiring harness

#### So, why re-use the BMS?

The BMS provides the critical function of keeping your battery cells balanced. If your battery cells are unbalanced, your battery could overcharge and catch fire while charging. There are a couple of other added benefits. They are:

- If the board sits idle for ~20 minutes, it will turn off automatically. This prevents the battery from draining.
- The Future Motion controller module is still 100% compatible with the rest of the board. If for any reason you ever want to swap back, you can.

#### Mitigations and Accepted Risk

There are some ways to mitigate the risks associated with this setup:

1. Don’t ride in freezing weather. Lithium batteries are dangerous below freezing, so the BMS can cut power if the battery gets too cold.
2. Install an OWIE chip to monitor the battery cells manually. I will cover this with my own guide at a later time, but if you are interested in it now, [check out this conversation on pev.dev](https://pev.dev/t/owie-wiring-fw-use-fm-bms-for-15s-vexr/336).
3. Check your wiring harness and other components regularly for damage.
4. Always wear a helmet and other safety gear.

These mitigations don’t completely solve the problems associated with running the stock BMS. <mark class='yellow'>At the end of the day, you will need to decide if you accept the risk that at some point your board could shut off while you are riding it.</mark> But even completely stock XRs, GTs, and Pints have been reported to cut off during operation, so this risk is probably one you’ve already accepted. I don’t mean to dissuade anyone from building a VESC onewheel, but if these sound like risks that you don’t want to take on, this may not be the project for you. Proceed at your own risk.

***

## Prerequisites

I’ve included purchase links to most hardware or tools you will need. Where appropriate, I’ve included affiliate links, which will earn me a small commission.

### Knowledge

To successfully complete this conversion, you should have the following pre-requisite knowledge or at least be willing to learn:

- **How to disassemble and reassemble your Onewheel+ XR** - I’d recommend watching this video from 1wheelParts.

  - [https://youtu.be/0K2gZJivRfI](https://youtu.be/0K2gZJivRfI)

- **How to use a multimeter** - To check polarity, voltage, and continuity of your battery.

  - [https://youtu.be/TdUK6RPdIrA](https://youtu.be/TdUK6RPdIrA)

- **How to solder wires and connectors** - We will need to solder in the power button and charging port so that they are compatible with the Future Motion BMS.

  - [https://youtu.be/Zu3TYBs65FM](https://youtu.be/Zu3TYBs65FM)
  - [https://youtu.be/CnGq4Pcthr4](https://youtu.be/CnGq4Pcthr4)

- **How to install heat set inserts** - These are the brass inserts that will be pressed into the controller box. Read about them below.
  - [https://www.cnckitchen.com/blog/tipps-amp-tricks-fr-gewindeeinstze-im-3d-druck-3awey](https://www.cnckitchen.com/blog/tipps-amp-tricks-fr-gewindeeinstze-im-3d-druck-3awey)

### Hardware

Before beginning, be sure to have on hand:

- **Onewheel+ XR with a working BMS** - Hardware version and firmware version are irrelevant, it just needs to be an XR. Aftermarket accessories such as footpads, bumpers, rails, and tires will have little relevancy in this guide, so those should be fine. If you have an upgraded battery, such as a CBXR or a JWXR, this is also acceptable and will be addressed during the software setup. **_Your Onewheel should still have a working BMS_**_. If your goal is to bypass the BMS,_ **_this is not recommended_** _and this is not the guide for you._
- **Little FOCer VESC and connector kit** - This is the VESC controller and most of the necessary bits and bobs to make it compatible with your current Onewheel.

  - North America - [Flowglider DIY Bundle](https://www.makerspev.com/products/flowglider-diy-bundle) from MakersPEV.
  - Europe - [Little FOCer V3.1 VESC 84V 20S Complete Kit](https://customwheel.shop/high-voltage-vesc-motor-speed-controllers/little-focer-v31-esc-84v-20s-kit) from CustomWheel.

- **Power button** - The Future Motion BMS isn’t compatible with the latching button that comes with the DIY bundle, so we need purchase this separately. This is the one I used for my build.

  - [APIELE 19mm Momentary Push Button Switch](https://amzn.to/3IAQ8bh)

- **Controller enclosure**  - 3D printed Flowglider box. I print my own now, but I’ve had good experience with Phillip at Lit Timber. Get the PA6-CF (nylon with carbon fiber) version if you’re worried about heat resistance. PLA can melt or warp in a hot car.

  - [https://www.littimber.com/product/wtfoc-mk2-controller-box-for-little-focer-v3/](https://www.littimber.com/product/wtfoc-mk2-controller-box-for-little-focer-v3/)

- **Controller enclosure lid** - Lit Timber carries this sometimes as well. But its the same product. Choose the regular version, not the lid mount.

  - [https://plasticspider.com/controller-lid-and-gaskets-wtfoc-mk2-for-little-focer-v3-0-3-1/](https://plasticspider.com/controller-lid-and-gaskets-wtfoc-mk2-for-little-focer-v3-0-3-1/)

### Smart Phone and Computer

- **iPhone or Android mobile phone -** to facilitate the Bluetooth connection from your VESC to your desktop/laptop
- **Desktop or laptop computer (Windows, Mac, or Linux) -** to perform the initial setup and calibration

**Note:** Due to a bug with the iPhone version of <mark>VESC Tool</mark>, I am only including desktop/laptop documentation at this time. However, if you only have an Android device and still wish to convert your board following this guide, it is definitely possible. The interface on mobile is laid out differently than the desktop version, but all of the necessary menus are present. The iPhone bug affects the <mark>VESC Packages</mark> section of the app, which is necessary to complete the setup. You will still need a mobile device so your desktop can to connect to your VESC through Bluetooth and either an iPhone or Android may be used for that. You just can’t use the iPhone for the full setup without a desktop computer as well.

![Tools](https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/4c18a167-2325-4df8-a2dc-f073636f653d/vesc-conversion-tools.jpg?format=1500w)

### Tools

You probably have most of these tools already, but I’ve included some Amazon links just in case. Please note, unless they are marked with an asterisk (*), I haven’t personally used these tools.

TODO: Remove affiliate links and replace with normal links

- [**1/8 and 1/4 Hex Wrenches**](https://amzn.to/3YbZiAV)
- [**Screwdrivers**](https://amzn.to/3IFcM2m) (#1 Phillips, #2 Phillips, Flat Head)
- [**Needle Nose Pliers**](https://amzn.to/3KMPCtr)
- [**Adjustable Wrench**](https://amzn.to/3Yg2oUq)
- [**Wire Nippers**](https://amzn.to/3IIFuzv) *
- [**Wire Strippers**](https://amzn.to/3y4vJGG) *
- [**Multimeter**](https://amzn.to/3IIFuzv) *
- [**Heat Shrink**](https://amzn.to/3IxFVfO)

**Soldering Iron Kit** (including solder, flux, and helping hands)
- [**Soldering Iron**](https://amzn.to/3ZhPuXy) *
- [**Solder**](https://amzn.to/3SGrlqV) * (the spool of solder that comes with the kit above is terrible)
- [**Flux**](https://amzn.to/3Zx6ybu) * (the flux paste that comes with the kit is fine, but I love this liquid stuff)
- [**Tip Cleaner**](https://amzn.to/3YftJpI) *
- [**Heat Set Insert Tips**](https://amzn.to/3ZhQJGc) *

- [**Blue Threadlocker**](https://amzn.to/3y4F5m2) *
- [**20 Gauge Silicone Wire**](https://amzn.to/3ZsJSt0)

**Optional**
- [**Adhesive Backed Fishpaper**](https://amzn.to/3IGMFbf) * - Insulative material to help prevent electrical shorts.
- [**Extra Thermal Pads**](https://amzn.to/3SFxXpp) * - When you eventually need to take your controller apart to fix/change something, these will be good to have on hand. I always have at least one on hand.
- [**Zip Ties**](https://amzn.to/3ZsAUvR) - Good for cable management.
- [**Hot Glue Gun**](https://amzn.to/3EIT58M) - To keep the controller and wires in place during assembly.
- [**Flowglider Connector Cover**](https://www.littimber.com/product/wtfoc-mk2-connector-cover/) * - You can reuse the XR connector cover, but this one is way better.
- [**Heat gun**](https://amzn.to/3Zd5LwC) * - Used to shrink the heat shrink. You can use a lighter, but a heat gun is MUCH easier. There are cheaper versions, but this one has variable temperature and works great for me.
- [**Helping Hands**](https://amzn.to/3meemAE) * - To hold your wires and connectors in place while you solder.
- [**JST Connector Kit**](https://amzn.to/3J54LFp) * - This is great to have on hand in case you accidentally break a connector included in the DIY bundle.

\* Products that I personally use and recommend

And if you wanted to replicate my build entirely, you’ll need a few more things:
- [**BANG Bumpers**](https://thefloatlife.com/collections/shop-for-onewheel-xr/products/b-a-n-g-bumpers-gloss-finish?aff=7)
- [**Growler Varial Rails**](https://thefloatlife.com/products/varials?aff=7&variant=42533299126494)
- [**HellaRad Pint Tire**](https://thefloatlife.com/products/tfl-street-tire-pint-pint-x-compatible?_pos=2&_sid=290be33f5&_ss=r&aff=7)
- [**Float Life Savers Rim Guards**](https://thefloatlife.com/products/life-savers?aff=7&variant=43694011187422)
- [**Kush Lo Footpad w/ Street Grip**](https://thefloatlife.com/collections/shop-for-onewheel-xr/products/kush-lo-footpad-for-onewheel-v1-plus-xr?aff=7)

### Cost

The cost of this project will greatly depend on what parts you already have, but here is an estimation of the very basics. (You never include new tools in the project cost 🤣)

| Item                                | Price            | Notes                                                                      |
|-------------------------------------|------------------|----------------------------------------------------------------------------|
| Onewheel+ XR                        | $1,250.00        | A used XR will run you around $1000 - $1500 if you don't already have one. |
| Little FOCer VESC and connector kit | $430.00          |                                                                            |
| Power button                        | $11.49           |                                                                            |
| Controller enclosure                | $99.00           | PA6-CF version                                                             |
| Controller enclosure lid            | $45.00           |                                                                            |
| **Total**                           | **$1,835.49**    |                                                                            |

***

## Hardware Setup

Alright, now that you have a pile of parts and some shiny new tools, let’s dive in to the build. I’m consolidating information from a couple of different sources, which are listed at the bottom of the Hardware Setup section.

### Wiring Diagrams

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677729407249-S4U7A1QYOIR1OZ4680DL/Little+FOCer+Cable+Routing.png?format=1000w" alt="Footpad and hall sensor">
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677721762331-DHJQFB5SWTS3RT8MWW3U/Momentary+Switch+Wiring+Diagram.png?format=1000w" alt="Installed in the Flowglider box">
  </figure>
</div>

Pictured above is the wiring diagram that we will be replicating. It is a modified version of [sav0](https://pev.dev/u/sav0)’s diagram from [their post on pev.dev](https://pev.dev/t/lfoc3-1-wiring-diagram-w-bms-options-chargeonly-bypass/502). It has been modified to include the purple wire, which will allow the board to turn on when connected to a charger and will also enable cell balancing. There are many different ways to configure the hardware in a VESC build. I’ve opted for this version because it doesn’t break compatibility with the stock Future Motion controller and it allows the BMS to balance the battery cells. If, at any time, you want to un-VESC your onewheel, you will simply need to re-install the original controller module.

### Installation

Let’s finally put some stuff in the controller box and get it installed. In some of the photos, a grey controller box was used. I ended up swapping over to a black PA6-CF box after my old grey ASA box broke. I tried to capture all of the necessary photos from the swap, but I missed a few.

**1. Install the footpad and hall sensor Switchcraft connectors**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677702736601-BUYSVRRYEYB405OEP8PF/footpad-hall-sensor-connectos-3.jpg?format=1000w" alt="Footpad and hall sensor">
    <figcaption>Footpad (left) and hall sensor (right)</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677700761050-8HO1GUYB6D0GD1AUGXEI/footpad-hall-sensor-connectors.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677700760708-EZ2CNQPCQXUV2IJWJR09/footpad-hall-sensor-connectors-2.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
</div>

<mark>Switchcraft</mark> is in the glossary

a. Install the 3-wire footpad connector on the left and the 5-wire <mark>hall sensor</mark> connector on the right to mimic Future Motion’s configuration. Or, swap the connectors so that the hall sensor is closer to the motor power connector, which I think makes more sense.

b. Make sure to install the gaskets on the inside of the box.

c. Snug down the plastic retainer nuts using an adjustable wrench. Be careful not to over-tighten! Plastic threads are easily stripped.

**TIPS**

- You may need to use a rasp, file, or small knife to widen the hole before inserting your connector because 3D printer accuracy will vary.
- Install small zip ties to help with cable management. Be sure to trim down the zip ties so that they are flush with the head. You don’t want any sharp edges exposed that could cut the other wires inside the box.

**2. Install the 6-pin motor power Molex connector**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677702786674-TCYRQQ41UUJ76IVAK1AL/motor-power-connector-4.jpg?format=2500w" alt="Motor power connector">
    <figcaption>Motor power connector</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677701817250-6A822IVH02VK4XAM9VNG/motor-power-connector-1.jpg?format=2500w" alt="Slightly bend the bullet connectors down">
    <figcaption>Slightly bend the bullet connectors down</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677701818228-NC76N0W4CTXPYYZNK8UF/motor-power-connector-2.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
</div>

<mark>Molex</mark> is in the glossary

a. You’ll need to bend the gold bullet connectors down slightly so that there will be room for the power button. Be careful when doing this, as you don’t want any of the 6 pins that they are attached to to pull through the plastic.

b. Slide the connector into its slot.

c. Make sure the gasket is on the inside of the box.

d. Install the screws with a #2 phillips head screwdriver. Take care not to overtighten. You can damage the 3D printed controller box if you the screws are tightened too much.

**3. Install the 16-pin battery power Molex connector**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703127224-9PNEE82WVL6Q1PWJ0S52/battery-power-connector.jpg?format=2500w" alt="Battery power connector and screws">
    <figcaption>Battery power connector and screws</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703127240-OBUH5AQAZS5J5DXBVH27/battery-power-connector-2.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703135393-1RMUM931W21B0EWXM8D9/battery-power-connector-3.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
</div>

a. Slide the connector into its slot.

b. Make sure the gasket is on the inside of the box.

c. Install the screws with a #2 phillips head screwdriver. Take care not to overtighten. You can damage the 3D printed controller box if you the screws are tightened too much.

**4. Solder a wire to the XLR charging port**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703586345-91VM7TGA3A3AFOLT2Z4P/solder-purple-wire-1.jpg?format=2500w" alt='"Purple" wire soldered into place on the XLR'>
    <figcaption>"Purple" wire soldered into place on the XLR</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703586561-QUQNWFV3KWJF6IYN7U4I/solder-purple-wire-2.jpg?format=2500w" alt="Heat shrink installed">
    <figcaption>Heat shrink installed</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677703593683-ZSFMCP4QB9DDE355LXUX/solder-purple-wire-3.jpg?format=2500w" alt="XLR port after soldering">
    <figcaption>XLR port after soldering</figcaption>
  </figure>
</div>

This is the wire that will be connected to the purple wire in a subsequent step. So, if you have purple wire, use that instead. I didn’t have any on hand.

a. I used a 20 <mark>AWG</mark> silicone wire ~4-6 inches in length. It will get trimmed down to just a couple of inches later, but it’s nice to have extra length for heat dissipation while soldering. 

b. Heat up the XLR solder cup and melt in enough solder to fill it up. Work quickly, as you don’t want to melt the connector.

c. Solder in the silicone wire and then cover it with heat shrink.

**5. Install the XLR charging port**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704215577-AN0YA08UBDZ2H1WPD6WA/solder-purple-wire-3.jpg?format=2500w" alt="XLR charging port from previous step">
    <figcaption>XLR charging port from previous step</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704209380-40OROJ0FU73BYTKKONRU/install-charging-port-2.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704209498-F5XOM0HY5LY5ODOYULM8/install-charging-port-1.jpg?format=2500w" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
</div>

<mark>XLR</mark> is in the glossary

a. Slide the connector into its slot.

b. The rubber o-ring should be on the outside of the box.

c. Install the toothed washer and then the metal retaining nut. 

d. Tighten the retaining nut with needle nose pliers. This isn’t really the best tool for the job, as they will want to slip, but it’s hard to get anything else in there. Take care not to over tighten.

**6. Solder the momentary press power button**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677721896282-NLUPCI156VNPXPCV0TYN/Momentary+Switch+Wiring+Diagram.png" alt="Wiring diagram">
    <figcaption>Wiring diagram</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704871164-65QIVEF171NY82GLH8LY/solder-power-switch-1.jpg" alt="Discard the red wiring connector">
    <figcaption>Discard the red wiring connector</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704867948-7NKYIID4IUBN6UV3W3T9/solder-power-switch-2.jpg" alt="Remove the wiring from the latching switch">
    <figcaption>Remove the wiring from the latching switch</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704880007-K90IANZL65WJJOV77GLY/solder-power-switch-3.jpg" alt="Remove the red wire from the JST">
    <figcaption>Remove the red wire from the JST</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704888470-L1WPP35FPNCCXND7RTBR/solder-power-switch-4.jpg" alt="Remove the red wire from the JST">
    <figcaption>Remove the red wire from the JST</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704892020-1H18KBR1XIOMPPPYFP6N/solder-power-switch-5.jpg" alt="Solder and heat shrink the wires">
    <figcaption>Solder and heat shrink the wires</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704900661-AVOK0AFAHPE0NOZOJCSM/solder-power-switch-6.jpg" alt="Solder and heat shrink the wires">
    <figcaption>Solder and heat shrink the wires</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677704903532-JLE41UD8VMDAPFYX9CO5/solder-power-switch-7.jpg" alt="The final product">
    <figcaption>The final product</figcaption>
  </figure>
</div>

In this step we will set up the momentary press switch by re-using the wiring from the latching switch that was included in the DIY bundle.

a. Discard the red wiring connector that was packaged with the momentary press switch. Unfortunately, there isn’t enough room to use it.

b. On the latching switch that was included in the DIY bundle, carefully snip away the wires. You’ll want to snip as close to the switch posts as possible.

c. Remove the red wire from the white <mark>JST</mark> connector. This can be done by carefully lifting the retainer tab on the JST connector and pulling out the wire. [Video demonstration here](https://youtu.be/nRVhPhfdawg?t=25). 

d. Solder the wires according to the pictures and wiring diagram above. Don’t forget the heat shrink!

**7. Install the power button**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677709253560-GA6QDOPVD1CMLGDH9ETI/install-power-switch-2.jpg" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677709253886-44I3P7AJV9LLAA92Y0II/install-power-switch-1.jpg" alt="Installed in the Flowglider box">
    <figcaption>Installed in the Flowglider box</figcaption>
  </figure>
</div>


a. Slide the power button into its slot.

b. The rubber o-ring should be on the outside of the box.

c. Tighten the retaining nut with needle nose pliers. This isn’t really the best tool for the job, as they will want to slip, but it’s hard to get anything else in there. Take care not to over tighten.

**8. Solder the blue and purple wires**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677713929291-AHXMGXLBXYZ4EE7V0F47/solder-blue-and-purple-4.jpg" alt="Twist the wire around the post and solder into place">
    <figcaption>Twist the wire around the post and solder into place</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677713929288-3KV595HWLLXV4S0GWM5D/solder-blue-and-purple-5.jpg" alt="Apply heat shrink">
    <figcaption>Apply heat shrink</figcaption>
  </figure>
</div>


I didn’t have any blue or purple wire on hand unfortunately, so I used red for both connections. I understand that this may be confusing, so I modified the colors in post in order to clear things up. In subsequent photos, you may notice that the wires that I used are actually red.

a. The blue wire connects from the “NO” post on the power button to the lower left post on the back of the 16 pin Molex connector.

b. The purple wire connects from the lower solder cup on the XLR port to the upper left post on the back of the 16 pin Molex connector.

c. Cut each wire to size. You don’t want there to be any strain on the wire, but you want to trim the excess to make cable management easier.

d. For each solder joint, twist the wire around the post and then apply some flux. Heat and solder into place.

e. Cover each connection with some heat shrink.

**Note:** Soldering the wires directly to the Molex connector will make future disassembly difficult, since the wires will need to be desoldered. This could be remedied by installing a connector in each wire (such as bullet connectors). Looking back, I should’ve included this in the guide and I may add it in the future.

**9. Check polarity**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677714877190-LB12K5RK2MWQKYAEJSMM/test-polarity.jpg" alt="Connect the wiring harness to the 16 pin Molex">
    <figcaption>Connect the wiring harness to the 16 pin Molex</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677714987736-P4SKMUXKZYG5Q3Q1IIV6/test-polarity-1.jpg" alt="Check voltage at the XT60">
    <figcaption>Check voltage at the XT60</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677716694318-R9W59N9HZ58GF433W72U/test-little-focer.jpg" alt="Disconnect the wiring harness">
    <figcaption>Disconnect the wiring harness</figcaption>
  </figure>
</div>

If you haven’t already disassembled your XR, go ahead and do that now. You will need the battery module removed for testing. Be sure that the battery is at least 50% charged before continuing.

a. Connect the stock wiring harness to the 16 pin Molex connector.

b. Use your multimeter to check the voltage at the <mark>XT60</mark> connector. If the polarity is correct, you should receive a positive voltage reading when touching red to red and black to black.

c. If you find that polarity is in fact reversed, pause here for now and order this [Reverse Polarity Adapter from MakersPEV](https://www.makerspev.com/products/xt60-polarity-reverse). You can also make your own with some [XT60 connectors](https://amzn.to/3YbjNhc) and [12 AWG wire](https://amzn.to/3y5iVQA).

<mark class='yellow'>Do not connect your Little FOCer to the XT60 until correct polarity is confirmed. If the polarity is reversed - which may be the case due to Future Motion booby trapping - then you will fry your VESC.</mark>

d. After polarity is confirmed, disconnect the wiring harness from the 16 pin Molex connector.

**10. Test the Little FOCer**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677717408738-C6NPOWCZ938O1EP70Z7R/test-little-focer-2.jpg" alt="Connect the power button">
    <figcaption>Connect the power button</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677726743487-8FM7YESCODTL8JAR72GC/test-little-focer-4.jpg" alt="Connect the male and female white Molex connectors">
    <figcaption>Connect the male and female white Molex connectors</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677717406828-KPNAQHJIL7K0J3J8IF8G/test-little-focer-3.jpg" alt="Connect the XT60s">
    <figcaption>Connect the XT60s</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677879953923-DMNOQSXUUM1JDR7CCFKH/where-to-connect-labeled.jpg" alt="Where to connect things">
    <figcaption>Where to connect things</figcaption>
  </figure>
</div>

a. Verify that your wiring harness was disconnected in the previous step. 

b. Connect the 3 pin JST from the power button to the connector pictured above on the Little FOCer.

c. Connect the male and female 3 pin white Molex connectors for the XLR charging port.

d. Connect the XT60 from the 16 pin Molex to the XT60 on the Little FOCer.

e. Make sure the Little FOCer is moved away from anything metal.

f. Connect the wiring harness to the 16 pin Molex. 

g. <mark class='yellow'>Be careful with anything metal around the Little FOCer or the charging port from this point. It is now potentially a live circuit.</mark>

h. Press the power button. It should illuminate. If not, disconnect everything, starting with the wiring harness and then recheck your wiring. 

i. Once the power button is illuminated, check to make sure you can see the Little FOCer in the <mark>VESC Tool</mark> mobile app. For instructions on downloading and connecting with the mobile app, skip ahead to the software section installing and connecting with VESC Tool and then come back here.

j. Once you’ve verified connectivity, press the power button again to turn the VESC off.

k. Connect your charger to the XLR port. Again, the power button light should illuminate. The light on the XR charger should also turn red.

l. Verify that you can connect to the Little FOCer using the VESC Tool mobile app.

m. Disconnect your charger from the XLR port. 

n. Disconnect the wiring harness from the 16 pin Molex. 

**11. Get everything connected and the wires routed**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677729356558-D5BNMUK29SNDQAHP8H46/Little+FOCer+Cable+Routing.png" alt="Cable routing and connection diagram">
    <figcaption>Cable routing and connection diagram</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677863069071-2ZTJRG0AMM4ZKEIGD1Y2/where-to-connect-labeled.jpg" alt="Where to connect things">
    <figcaption>Where to connect things</figcaption>
  </figure>
</div>

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730656925-4GVO7MYM265EUO8YRKXE/connect-and-route-03.jpg" alt="connect-and-route-03.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730636050-KRXWE0YPOLVDZK9Z84P6/connect-and-route-02.jpg" alt="connect-and-route-02.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730636218-538HC48UKIP6LZ30ALKJ/connect-and-route-01.jpg" alt="connect-and-route-01.jpg">
    <figcaption></figcaption>
  </figure>
    <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730657656-CB70VYBW7E324AP5P0TJ/connect-and-route-04.jpg" alt="connect-and-route-04.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730679695-9ZHWWHMJ6HNRCJ0CF1QP/connect-and-route-06.jpg" alt="connect-and-route-06.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730694301-6SJVHTWDHIT6Z53XRFJC/connect-and-route-07.jpg" alt="connect-and-route-07.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677733994190-D3OE3EFPQUCIASI34P2G/connect-and-route-black-3.jpg" alt="connect-and-route-black-3.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730699788-S098UKVEDKTIK1M85SGT/connect-and-route-08.jpg" alt="connect-and-route-08.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730714423-8JWBI8EWK1FFLZWS6I5K/connect-and-route-09.jpg" alt="connect-and-route-09.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730720889-AY2L6TCU9GD450WL4SKI/connect-and-route-10.jpg" alt="connect-and-route-10.jpg">
    <figcaption></figcaption>
  </figure>
    <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730735778-WHR33KDYV0GTCHZ092YS/connect-and-route-11.jpg" alt="connect-and-route-11.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730740405-O2A73QGDST5ZHY972RGF/connect-and-route-12.jpg" alt="connect-and-route-12.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677733981441-OP1URJ8K2W5E6N8CFXPD/connect-and-route-black-2.jpg" alt="connect-and-route-black-2.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730763130-57UM9OBIPHR680YEPDRX/connect-and-route-14.jpg" alt="connect-and-route-14.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730781851-VT5YPE457383AS5Q6LRS/connect-and-route-15.jpg" alt="connect-and-route-15.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730784352-Z7E79P0WTYBOWLK6FJW5/connect-and-route-16.jpg" alt="connect-and-route-16.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730804740-V4DEROWN5JON1HX659NY/connect-and-route-17.jpg" alt="connect-and-route-17.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677730807982-XVE6ZVN9LC68BNWRVTXO/connect-and-route-18.jpg" alt="connect-and-route-18.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677733981983-X3XCR3JFDGO4GFY1293D/connect-and-route-black-1.jpg" alt="connect-and-route-black-1.jpg">
    <figcaption></figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677733997326-T3U2391LVCY46XV7O419/connect-and-route-black-5.jpg" alt="connect-and-route-black-5.jpg">
    <figcaption></figcaption>
  </figure>
</div>

This step will require some patience and tenacity. There isn’t much room for all of the wiring, so you need to be careful to make sure nothing is pinched and there isn’t any strain on any of the wires. Go slowly and reference the cable routing diagram and the photos. I tried to get plenty of photos of this process, but it takes a little trial and error.

a. At this point, you should already have the 3-pin white Molex connected for the charging port. If not, connect it.

b. You should also already have the 3-pin JST connected from the power button the Little FOCer. If not, connect it.

c. Connect the 3-pin JST from the footpad connector to the Little FOCer.

d. Connect the 6-pin JST from the hall sensor connector to the Little FOCer.

e. Connect the XT60 from the 16-pin Molex to the Little FOCer.

f. Connect the three bullet connectors from the Little FOCer to the motor power 6-pin Molex. It does not matter which connectors go to which. Install heat shrink around the connectors. You may need to loosen the power button retainer nut and shuffle things around to get space to work the bullet connectors together.

g. Once everything is connected and routed properly, the six holes in the Little FOCer will line up with the six posts in the Flowglider box. When you push the Little FOCer into place, there will be a little bit of resistance or springiness because of all the wires, but it should not have to be forced into place. Once it fits correctly, the top of the Little FOCer should sit flush with the top of the Flowglider box.

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/3987fca0-7ce1-4ded-b519-7a313921f7c3/hot-glue.png?format=2500w" alt="Use some hot glue">
    <figcaption>Use some hot glue</figcaption>
  </figure>
</div>

**TIP**: Put a couple of drops of hot glue on the edge of the Little FOCer where it meets the Flowglider box, near the connectors. This will help keep it in place during the next steps.

**12. Install the lid gasket**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677735246795-D1U33YATWKAHMWP1WRTY/fishpaer-and-gasket.jpg" alt="Fishpaper on the lid to prevent a short from the 16 pin Molex">
    <figcaption>Fishpaper on the lid to prevent a short from the 16 pin Molex</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677735245401-W1G3V9PCBH87UNHYH8IQ/fishpaer-and-gasket-1.jpg" alt="Line up the gasket with the holes and slap it on">
    <figcaption>Line up the gasket with the holes and slap it on</figcaption>
  </figure>
</div>

a. If you have adhesive backed fishpaper, you can use a piece on the lid to prevent a short of the 16 pin Molex. You could also place some electrical on top of the vertical posts. Most likely, neither of these are necessary though. 

b. Remove the paper backing, line up the black neoprene gasket, and stick it on the lid.

**13. Install the thermal pad and the lid**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677737126305-LQIVFQBRNPRHVNPM6B3Z/thermal-pad-and-lid.jpg" alt="Clean the MOSFETs">
    <figcaption>Clean the MOSFETs</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736888932-2L48B88G0S3D16QEDC84/thermal-pad-and-lid-1.jpg" alt="Install the thermal pad">
    <figcaption>Install the thermal pad</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736888722-JGMI0HKXTK1AIS7TNW0X/thermal-pad-and-lid-2.jpg" alt="Remove the textured backing">
    <figcaption>Remove the textured backing</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736905072-24JOR3CCQ400P8QVF618/thermal-pad-and-lid-3.jpg" alt="Install the pointed wood screws from the top">
    <figcaption>Install the pointed wood screws from the top</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736917432-PUK3XT4KSNJBWJ7KULSE/thermal-pad-and-lid-5.jpg" alt="Install the non-pointed machine screws from the bottom">
    <figcaption>Install the non-pointed machine screws from the bottom</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736904207-4HXQAPYCZI3UNINE3GRZ/thermal-pad-and-lid-4.jpg" alt="Use threadlocker with the machine screws">
    <figcaption>Use threadlocker with the machine screws</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677736926436-EC0D8SGGF6ZNRVVT8ULN/thermal-pad-and-lid-7.jpg" alt="Lid installed">
    <figcaption>Lid installed</figcaption>
  </figure>
</div>

a. (Optional) Cut the thermal pad to size before installing. It should just cover the MOSFETs on top of the Little FOCer. This will leave you with some spare material if you need it. The size should be about 2 1/4” x 2 7/8”.

b. Clean the MOSFETs with rubbing alcohol. 

c. Remove the slick non-textured backing from the thermal pad and place it over the Little FOCer. 

d. Then remove the textured backing.

e. Carefully line up the hole from the lid to the Flowglider box.

f. Install all of the pointed wood screws on the top side of the lid. Do not overtighten, as you will strip out the plastic of the Flowglider box.

g. Install all of the non-pointed machine screws from the bottom of the Flowglider box, going up into the lid and into the riv-nuts. Use a drop of threadlocker on these screws so that they stay in place.

**14. Install heat set brass inserts**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677737869489-49KTCE3S866DTCK39HM5/heat-set-inserts-1.jpg" alt="heat-set-inserts-1.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677737870065-YA9NLGXPCBZAC5QU9T73/heat-set-inserts-2.jpg" alt="heat-set-inserts-2.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677737880911-5JWFY1BV8GSJGKW9OPSO/heat-set-inserts-3.jpg" alt="heat-set-inserts-3.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677737884452-1NVMNAOQWXI2FPFHYO7L/heat-set-inserts-4.jpg" alt="heat-set-inserts-4.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
</div>

The Plastic Spider lid kit should have come with four heat set inserts. These will need to be installed with your soldering iron. Reference this article from CNC Kitchen if you’ve never installed heat set inserts: [TIPS & TRICKS FOR HEAT-SET INSERTS USED IN 3D PRINTING](https://www.cnckitchen.com/blog/tipps-amp-tricks-fr-gewindeeinstze-im-3d-druck-3awey)

a. The long inserts will go in the two holes near the front of the Flowglider box.

b. The shorter inserts will go in the other two holes near the back of the box.

c. Use a #10 heat insert tip on your soldering iron.

d. Set the temperature of your soldering iron to 10-20 degrees higher than the melting point of the material of the Flowglider box. For my box with PA6-CF, I used ~320 degrees Celcius. For PLA, you’ll want to keep it around 275.

**15. Reassemble your onewheel**

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677863273433-TMUVXOY3N2QP7J8F4WKE/reassemble-3.jpg" alt="reassemble-3.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677863334677-4J808KAP485AUNJ60DC9/reassemble-1-2.jpg" alt="reassemble-1-2.jpg">
    <figcaption></figcaption> <!-- No title provided -->
  </figure>
</div>

With the inserts installed, <mark class="yellow">the controller module is done!</mark> Go ahead reinstall/reconnect everything just like you would with a Future Motion XR. It will power on at this point, but it won’t be rideable until we configure the software.

### References

* [CustomWheel Manual How to Install Your Controller](https://customwheel.shop/blog/manual-how-to-install-your-controller)

* [LFOC3.1 Wiring Diagram w/ BMS Options - Chargeonly / Bypass](https://pev.dev/t/lfoc3-1-wiring-diagram-w-bms-options-chargeonly-bypass/502)

***

## Software Setup

### Download and Install VESC Tool

VESC Tool is the open-source application that you will use to configure your VESC onewheel. The interface is a lot easier to navigate on a larger device, therefore I recommend performing the initial configuration from a desktop or laptop. But, it can be done from mobile as well. VESC Tool is available on pretty much every platform, so follow the instructions below depending on your device.

<mark class="yellow">While working on the software setup and configuration, your VESC will need to remain powered on. The Future Motion BMS has a feature that will power off the device after being idle for 20 minutes, so you may need to turn the board back on and reconnect periodically.</mark>

**iPhone / iPad**

VESC Tool is available from the App Store for $3.99, so simply follow the link below:

[VESC Tool on the App Store](https://apps.apple.com/us/app/vesc-tool/id1605488891)

**Android**

VESC Tool is available from Google Play for $3.99, which is the easiest way to get the app. Here is the link:

[VESC Tool on Google Play](https://play.google.com/store/apps/details?id=vedder.vesctool&hl=en_US&gl=US&pli=1)

Alternatively, you can sideload the APK from vesc-project.com, but that won’t be covered in this guide.

**Windows / Mac / Linux**

For the desktop versions (Windows, Mac, and Linux), installation is slightly more involved. You’ll need to create an account at vesc-project.com, “purchase” the application (for zero dollars), then download and install it. If you need help, see the instructions below.

1. Navigate to [https://vesc-project.com](https://vesc-project.com/).

2. Do the simple math problem for CAPTCHA and then click on “Create new account” in the top right.

3. Enter a username, email address, the word VESC, and solve another CAPTCHA. Click on the “Create new account” button.

4. You should receive an email from vesc@vedder.se with a link to set your password. Follow the link in the email.

5. Set a password by clicking the “Log in” button.

6. Enter a new password then scroll down and click the “Save” button.

7. Click on “VESC Tool” from the navigation bar.

8. Scroll down and select which VESC Tool version you want. From the free version to platinum, they are all the same. The only difference is the donation amount. Click the “Add to cart” button.

9. Click the “Checkout” button.

10. Scroll down to enter your billing information. If you selected the free version, you only need to give a name, address, and phone number; no payment method. Once you’ve entered your info, click the “Review Order” button.

11. If everything looks good, click the “Submit order” button.

12. Click on “Purchased Files” from the top navigation bar.

13. Download the zip file for your operating system.

14. Install VESC Tool like you would install any other application on your operating system.

### Connect to Your VESC from Mobile

First, we’ll be connecting to the Little FOCer using Bluetooth on your mobile device. Later, I’ll explain how to connect from your desktop, using your mobile device as wireless bridge.

You can also use a MacBook to connect directly to the Little FOCer via Bluetooth, but it can be little buggy (see the conversation on pev.dev). The other option is to connect with USB, but this should only be necessary if Bluetooth isn’t working.

All of my screenshots were taken from an iPhone, but the Android version should be nearly identical.

1. Before we begin, make sure your board is powered on. 

2. When you open VESC Tool for the first time on your mobile device, you will need to grant it permission to use Bluetooth.

<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677879526827-RDGWZYR12OH7VV3VG1FR/first-connection-1.png" alt="first-connection-1.png">
    <figcaption></figcaption> <!-- No title or description provided -->
  </figure>
</div>


### Connect to Your VESC from Desktop

### Update the Firmware

### Calibrate the Motor

### Motor Configuration

### IMU Configuration

### Install the Float Package

### References

## Glossary

AWG
: American Wire Gauge. Shorthand notation when writing about wire gauges.

BMS
: Battery Management System. It’s the circuit board that is connected directly to your battery pack. It’s responsible for maintaining the health of your battery, which it does by balancing the voltage - or charge level - of the individual cells of the battery pack. The voltage of the individual cells will drift apart over time if they are not managed. This will eventually lead to a battery fire while charging. That is why we DO NOT RECOMMEND running a onewheel without a BMS. When the BMS is connected to the stock Future Motion controller, it also does other things like monitor battery temperature levels and manage battery discharge.

Connector Types
: JST, Molex (3 pin white, 6 pin black, and 16 pin black), Switchcraft, XLR, XT60
<div class="gallery">
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875182786-36MV1GS6ZNPH62KFH6TO/jst-3pin.png?format=2500w" alt="JST 3-pin">
    <figcaption>JST 3-pin</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875182825-KC8QGXF26CY61YNGNKX8/jst-6pin.png?format=2500w" alt="JST 6-pin">
    <figcaption>JST 6-pin</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875185510-148K5FUT8E2Y1VB74RP1/molex-white-3pin.png?format=2500w" alt="White Molex">
    <figcaption>White Molex</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875184480-51WBU236JS02S61MWA36/molex-6pin.png?format=2500w" alt="Molex 6-pin">
    <figcaption>Molex 6-pin</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875184531-FAIV7KUYQBMJCOZSOM3C/molex-16pin.png?format=2500w" alt="Molex 16-pin">
    <figcaption>Molex 16-pin</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875185650-SO3986DOMY9FKEERQSQP/switchcraft.png?format=2500w" alt="Switchcraft">
    <figcaption>Switchcraft</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875186506-AQUZZ506EDL7M1CL4S2Q/xlr.png?format=2500w" alt="XLR">
    <figcaption>XLR</figcaption>
  </figure>
  <figure>
    <img src="https://images.squarespace-cdn.com/content/v1/6360139198ee4b696834d610/1677875271598-OPDMQV3AZ4CDUT0BNYJS/xt60.png?format=2500w" alt="XT60">
    <figcaption>XT60</figcaption>
  </figure>
</div>

Hall Sensors
: Within the hub, the hall effect sensors detect the position of the magnets and allow the VESC to know when and how much power to send to the motor.

IMU
: Inertial Measurement Unit. Uses accelerometers and gyroscopes to detect the angle of the board. The VESC balance app uses this data to know how to adjust the amount of power it needs to send to the hub motor in order to keep the onewheel balanced.

PID
: PID stands for “proportional–integral–derivative”. This is a type of software control loop that continuously takes feedback and adjusts the system it is controlling. In our case, the PID loop takes the input of the rider on the board and spins the wheel so that you stay upright. [PID loops are explained in this video](https://www.youtube.com/watch?v=JFTJ2SS4xyA) in a way that I can almost understand.

Roll, Pitch, and Yaw
: The three dimensions of rotation detected by the IMU.

<div class="gallery">
  <figure>
    <img src="../../assets/img/posts/xr-to-vesc/pitch-roll-yaw-album/pitch.jpg" alt="Pitch">
  </figure>
  <figure>
    <img src="../../assets/img/posts/xr-to-vesc/pitch-roll-yaw-album/roll.jpg" alt="Roll">
  </figure>
  <figure>
    <img src="../../assets/img/posts/xr-to-vesc/pitch-roll-yaw-album/yaw.jpg" alt="Yaw">
  </figure>
</div>

VESC
: Vedder Electronic Speed Controller. Electronic Speed Controllers (ESC) are used in everything from drones to e-skates. VESC is an open-sourced ESC developed and trademarked by Benjamin Vedder. In the context of this project, we will be replacing the proprietary Future Motion ESC with a Little FOCer, which is a type of VESC. Read more at [vesc-project.com](https://vesc-project.com/).

VESC Packages
: A feature that was added in VESC firmware version 6.0. The packages feature allows developers to extend the functionality of the VESC firmware without having to modify the firmware itself. For VESC onewheels, we are most interested in the Float package.

VESC Tool
: VESC Tool is the open-source companion application for the VESC platform. Update firmware, change settings, check battery and other stats, all from the app. Available on iOS, Android, Mac, Windows, and Linux.

Wiring Harness
: A wiring harness is a generic term for a bundle that contains multiple wires in bound together and typically wrapped in some sort of protective shroud. In the context of this guide, I’ll usually be referring to the wiring harness that is attached to the battery module and connects to the controller module using a 16 pin Molex.
